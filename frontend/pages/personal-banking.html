<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Banking - Trust Union Bank</title>
    <link href="https://fonts.googleapis.com/css2?family=Martel:wght@200;300;400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/dashboard.css">
</head>
<body class="light-theme">
    <header class="main-header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo-section">
                    <a href="/">Trust Union Bank</a>
                </div>
                <ul class="nav-menu">
                    <li><a href="/personal-banking" class="nav-link active">Dashboard</a></li>
                    <li><a href="/accounts" class="nav-link">Accounts</a></li>
                    <li><a href="/transfers" class="nav-link">Transfers</a></li>
                    <li><a href="/loans" class="nav-link">Loans</a></li>
                    <li><a href="/cards" class="nav-link">Cards</a></li>
                </ul>
                <div class="nav-actions">
                    <button class="theme-toggle" id="themeToggle">
                        <span class="theme-icon">ğŸŒ™</span>
                    </button>
                    <button class="btn btn-secondary" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="dashboard-main">
        <div class="container">
            <div class="dashboard-header">
                <h1>Welcome, <span id="userName">User</span></h1>
                <p class="dashboard-subtitle">Manage your accounts and transactions</p>
            </div>

            <div class="dashboard-grid">
                <!-- Account Summary -->
                <div class="dashboard-card account-summary">
                    <h2>Account Summary</h2>
                    <div id="accountsList" class="accounts-list">
                        <div class="loading-spinner"></div>
                    </div>
                </div>

                <!-- Balance Overview -->
                <div class="dashboard-card balance-card">
                    <h2>Total Balance</h2>
                    <div class="balance-amount" id="totalBalance">
                        <div class="loading-spinner"></div>
                    </div>
                    <div class="balance-actions">
                        <a href="/transfers" class="btn btn-primary">Transfer Money</a>
                        <a href="/accounts" class="btn btn-secondary">View Accounts</a>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="dashboard-card quick-actions">
                    <h2>Quick Actions</h2>
                    <div class="actions-grid">
                        <a href="/transfers" class="action-item">
                            <div class="action-icon">ğŸ’¸</div>
                            <span>Transfer</span>
                        </a>
                        <a href="/loans" class="action-item">
                            <div class="action-icon">ğŸ¦</div>
                            <span>Loans</span>
                        </a>
                        <a href="/cards" class="action-item">
                            <div class="action-icon">ğŸ’³</div>
                            <span>Cards</span>
                        </a>
                        <a href="/statements" class="action-item">
                            <div class="action-icon">ğŸ“„</div>
                            <span>Statements</span>
                        </a>
                        <a href="/beneficiaries" class="action-item">
                            <div class="action-icon">ğŸ‘¥</div>
                            <span>Beneficiaries</span>
                        </a>
                        <a href="/settings" class="action-item">
                            <div class="action-icon">âš™ï¸</div>
                            <span>Settings</span>
                        </a>
                    </div>
                </div>

                <!-- Recent Transactions -->
                <div class="dashboard-card transactions-card">
                    <h2>Recent Transactions</h2>
                    <div id="transactionsList" class="transactions-list">
                        <p class="empty-state">No recent transactions</p>
                    </div>
                    <a href="/transactions" class="view-all-link">View All Transactions â†’</a>
                </div>

                <!-- Loan Summary -->
                <div class="dashboard-card loans-card">
                    <h2>Active Loans</h2>
                    <div id="loansList" class="loans-list">
                        <p class="empty-state">No active loans</p>
                    </div>
                    <a href="/loans" class="view-all-link">View All Loans â†’</a>
                </div>
            </div>
        </div>
    </main>

    <!-- Chat Bot Trigger -->
    <div class="chat-bot-trigger" id="chatBotTrigger">
        <div class="bot-logo-container">
            <div class="glow-effect"></div>
            <div class="bot-icon">ğŸ¤–</div>
            <span class="bot-label">Lumi</span>
        </div>
    </div>

    <!-- Chat Panel -->
    <div class="chat-panel" id="chatPanel">
        <div class="chat-header">
            <div class="chat-header-content">
                <div class="bot-info">
                    <div class="bot-avatar">ğŸ¤–</div>
                    <div>
                        <h3 class="bot-name">Lumi</h3>
                        <p class="session-id" id="sessionId">Session: Loading...</p>
                    </div>
                </div>
                <button class="chat-close" id="chatClose">âœ•</button>
            </div>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                <div class="message-avatar">ğŸ¤–</div>
                <div class="message-content">
                    <p>Hello! I'm Lumi, your banking assistant. How can I help you today?</p>
                </div>
            </div>
        </div>
        <div class="chat-input-container">
            <div class="chat-input-actions">
                <button class="lang-button" id="langButton" title="Change Language">ğŸŒ</button>
                <button class="preference-button" id="preferenceButton" title="Preferences">âš™ï¸</button>
            </div>
            <div class="chat-input-wrapper">
                <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." />
                <button class="voice-button" id="voiceButton" title="Voice Input">ğŸ¤</button>
                <button class="send-button" id="sendButton" title="Send">â¤</button>
            </div>
        </div>
    </div>

    <script src="/static/js/config.js"></script>
    <script src="/static/js/chat.js"></script>
    <script src="/static/js/theme.js"></script>
    <script src="/static/js/dashboard.js"></script>
</body>
</html>
